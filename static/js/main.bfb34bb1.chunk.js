(this["webpackJsonpweb-admin-start"]=this["webpackJsonpweb-admin-start"]||[]).push([[0],{254:function(e,n,t){e.exports=t(472)},472:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t(24),o=t(31),i=t(244),c=t(14),u=t(12),l=t(213);t(260);function d(){var e=Object(c.a)(["\n  \n  ","\n\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  :root {\n    --main-font: 'Roboto', sans-serif;\n    --title-font: 'Merriweather', serif;\n    --primary: #fff;\n    --secondary: #fff;\n    --warning: #fff;\n    --highlight: #f3f8fe;\n    --text-color: rgba(40, 46, 52, 0.8);\n    --text-color--secondary: rgba(56, 56, 56, 0.6);\n    --title-color: rgba(0, 0, 0, 1);\n    --link-active: #03a9f4;\n    --link-hover: #2196f3;\n    --border-color: rgba(0, 0, 0, 0.05);\n    --body-bg: #f5f5f6;\n    --block-bg: #fff;\n    --red: #f5222d;\n    --green: #52c41a;\n    --blue: #1890ff;\n    --box-shadow: 0 2px 6px 4px rgba(0, 0, 0, 0.03);\n  }\n\n  body,\n  html {\n    font-family: var(--main-font);\n    color: var(--text-color);\n    background-color: var(--body-bg);\n    font-size: 62.5%;\n    line-height: 1.4;\n    font-weight: 400;\n    min-width: 320px;\n    margin-left: auto;\n    margin-right: auto;\n    width: 100%;\n    height: 100%;\n    -webkit-font-smoothing: antialiased;\n  }\n\n  section {\n    font-size: 1.6rem;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4 {\n    font-family: var(--main-font);\n    line-height: 1.1;\n    color: var(--text-color);\n  }\n\n  p {\n    font-family: var(--text-font);\n  }\n\n  button {\n    border: 0;\n  }\n\n  input {\n    border: 0;\n  }\n\n  a {\n    border: 0;\n    transition: 0.2s;\n    text-decoration: none;\n    color: var(--black);\n  }\n\n  a:visited,\n  a:focus,\n  a:active,\n  a:hover {\n    outline: 0 none;\n  }\n\n  img {\n    border: 0;\n  }\n\n  menu,\n  ol,\n  ul {\n    margin: 0;\n    padding: 0;\n  }\n\n  li {\n    list-style-type: none;\n  }\n\n  section,\n  header,\n  footer {\n    font-size: 1.6rem;\n  }\n"]);return d=function(){return e},e}var s=Object(u.createGlobalStyle)(d(),l.normalize);function f(){var e=Object(c.a)(["\n  .ant-layout {\n    min-height: 100vh;\n    background: var(--body-bg) !important;\n  }\n\n  .ant-spin-nested-loading > div > .ant-spin {\n    max-height: 100%;\n  }\n\n  .ant-table-column-sorters {\n    width: 100%;\n  }\n  \n  .ant-table-column-sorter {\n    margin-left: auto;\n  }\n\n  .ant-table-filter-dropdown .ant-dropdown-menu {\n    max-height: calc(516px - 130px);\n  }\n\n  .ant-menu.ant-menu-dark .ant-menu-item-selected, .ant-menu-submenu-popup.ant-menu-dark .ant-menu-item-selected {\n    background-color: transparent;\n    box-shadow: inset 0px -4px 0 #1890ff;\n    transition: 0.3s;\n  }\n\n  .ant-badge-status-text {\n    margin-left: 0;\n  }\n"]);return f=function(){return e},e}var m=Object(u.createGlobalStyle)(f()),p=t(41),b=t(25),g=t.n(b),h=(t(261),t(262),t(125)),v=t(6),y=t(178),O=t.n(y),j=t(36),x=t(216);function E(e){var n=e.file,t=e.name,r=e.meta,a=new FormData;return a.append(t,n),r&&Object.keys(r).map((function(e){return a.append(e,r[e])})),a}var k=function(){var e=Object(x.a)(O.a.mark((function e(n){var t,r,a,o,i,c,u,l,d,s,f,m,p;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.url,a=n.method,o=void 0===a?"get":a,n.body,i=n.file,c=localStorage.getItem("token"),u=r,l=Object(j.a)(Object(j.a)({},!i&&{"Content-Type":"application/json"}),{},{Accept:"application/json",Authorization:"Bearer ".concat(c)}),d=Object(j.a)({headers:l,method:o},i&&{body:E(i)}),e.next=7,fetch(u,d);case 7:if(s=e.sent,f={code:s.status,url:r,method:o},m={},!(null===(t=s.headers.get("Content-Type"))||void 0===t?void 0:t.includes("application/json"))){e.next=14;break}return e.next=13,s.json();case 13:m=e.sent;case 14:if(p=Object(j.a)({payload:m.payload},f),!s.ok){e.next=17;break}return e.abrupt("return",p);case 17:throw p;case 18:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),w=401,S={position:"absolute",top:0,bottom:0,right:0,left:0,margin:"auto",width:40,height:40},I={Buy:"\u041f\u043e\u043a\u0443\u043f\u043a\u0430 (c\u043e \u0441\u0447\u0451\u0442\u0430)",BuyCard:"\u041f\u043e\u043a\u0443\u043f\u043a\u0430 (\u0441 \u043a\u0430\u0440\u0442\u044b)",Sell:"\u041f\u0440\u043e\u0434\u0430\u0436\u0430 (\u0441\u043e \u0441\u0447\u0451\u0442\u0430)",BrokerCommission:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f (\u0431\u0440\u043e\u043a\u0435\u0440)",ExchangeCommission:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f (\u0431\u0438\u0440\u0436\u0430)",ServiceCommission:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f (\u0441\u0435\u0440\u0432\u0438\u0441)",MarginCommission:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f (\u043f\u043b\u0435\u0447\u043e)",OtherCommission:"\u0414\u0440\u0443\u0433\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f",PayIn:"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435",PayOut:"\u0421\u043d\u044f\u0442\u0438\u0435",Tax:"\u041d\u0430\u043b\u043e\u0433",TaxLucre:"\u041d\u0430\u043b\u043e\u0433 (\u043f\u0440\u0438\u0431\u044b\u043b\u044c)",TaxDividend:"\u041d\u0430\u043b\u043e\u0433 (\u0434\u0438\u0432\u0438\u0434\u0435\u043d\u0434\u044b)",TaxCoupon:"\u041d\u0430\u043b\u043e\u0433 (\u043a\u0443\u043f\u043e\u043d\u044b)",TaxBack:"\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u043d\u0430\u043b\u043e\u0433\u0430",Repayment:"\u041f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u0435",PartRepayment:"\u0427\u0430\u0441\u0442\u0438\u0447\u043d\u043e\u0435 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u0435",Coupon:"\u041a\u0443\u043f\u043e\u043d",Dividend:"\u0414\u0438\u0432\u0438\u0434\u0435\u043d\u0434\u044b",SecurityIn:"SecurityIn",SecurityOut:"SecurityOut"},C={Stock:"\u0410\u043a\u0446\u0438\u0438",Currency:"\u0412\u0430\u043b\u044e\u0442\u0430",Bond:"\u041e\u0431\u043b\u0438\u0433\u0430\u0446\u0438\u044f",Etf:"\u0424\u043e\u043d\u0434\u044b"},T={Done:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e",Decline:"\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e",Progress:"Progress"},D={USD:"$",RUB:"\u20bd"},F=["Buy","BuyCard"],N=["Sell"],z=[{range:"today",color:"#4dc21f",label:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",from:g()().startOf("day").add(2,"hours").toISOString(),to:g()().endOf("day").add(2,"hours").toISOString()},{range:"yesterday",color:"#4dc21f",label:"\u0412\u0447\u0435\u0440\u0430",from:g()().subtract("1","days").startOf("day").add(2,"hours").toISOString(),to:g()().endOf("day").add(2,"hours").toISOString()},{range:"weekAgo",color:"#47c03f",label:"\u041d\u0435\u0434\u0435\u043b\u044f",from:g()().startOf("day").subtract("7","days").add(2,"hours").toISOString(),to:g()().endOf("day").add(2,"hours").toISOString()},{range:"monthAgo",color:"#42be5e",label:"\u041c\u0435\u0441\u044f\u0446",from:g()().startOf("day").subtract("1","month").add(2,"hours").toISOString(),to:g()().endOf("day").add(2,"hours").toISOString()},{range:"quaterAgo",color:"#3dbd7d",label:"\u041a\u0432\u0430\u0440\u0442\u0430\u043b",from:g()().startOf("day").subtract("4","month").add(2,"hours").toISOString(),to:g()().endOf("day").add(2,"hours").toISOString()},{range:"yearAgo",color:"#38bb9c",label:"\u0413\u043e\u0434",from:g()().startOf("year").add(2,"hours").toISOString(),to:g()().endOf("day").add(2,"hours").toISOString()},{range:"all",color:"#32b9bc",label:"\u0412\u0441\u0451 \u0432\u0440\u0435\u043c\u044f",from:g()().startOf("day").subtract("6","year").add(2,"hours").toISOString(),to:g()().endOf("day").add(2,"hours").toISOString()}],P=function(e){return z.find((function(n){return n.range===e}))||{from:"",to:""}},$=Object(v.d)({name:"sessionDomain",sid:"aizjov"}),q={token:null,keep:!1},B={role:null},A=Object(v.f)(q,{name:"$token",sid:"j3pts8"}),M=Object(v.f)([],{name:"$accounts",sid:"-sorp1t"}),V=Object(v.f)(B,{name:"$user",sid:"j9csst"}),U=Object(v.e)({name:"setToken",sid:"qwi7q8"}),R=Object(v.e)({name:"deleteToken",sid:"60i2sl"}),Y=$.createEffect({name:"getAccounts",sid:"gmr8g"});Y.use((function(){return k({method:"get",url:"/user/accounts"})}));var H=Y.pending;A.on(U,(function(e,n){return n})).on(R,(function(){return q})),M.on(Y.done,(function(e,n){return n.result.payload.accounts})),V.on(Y.done,(function(e,n){if(n.result.payload.accounts.length>0)return{role:"USER"}})),$.onCreateEffect((function(e){V.on(e.fail,(function(e,n){return n.error.code===w?B:e})),e.fail.watch((function(){h.a.warning("\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0442\u043e\u043a\u0435\u043d")}))})),Object(v.g)({"\u0254":{from:R,to:Y},config:{sid:"w4bt3g"}}),U.watch((function(e){var n=e.token,t=e.keep;n&&localStorage.setItem("token",n),t&&localStorage.setItem("keep","keep")})),R.watch((function(){localStorage.clear()}));var G=localStorage.getItem("token"),_=localStorage.getItem("keep");window.onbeforeunload=function(){var e=localStorage.getItem("token");localStorage.getItem("keep")&&e||localStorage.clear()};t(112);var J=t(59),K=(t(189),t(110)),L=t(477),W=(t(190),t(43)),Q=t(64);function X(){var e=Object(c.a)(["\n  color: var(--blue);\n\n  &:hover {\n    color: green;\n  }\n"]);return X=function(){return e},e}var Z=Object(u.default)(Q.a)(X()),ee=function(e){var n=e.className,t=e.children,a=e.to,o=e.onClick;return r.createElement(Z,{className:n,to:a,onClick:o},t)};function ne(){var e=Object(c.a)(["\n  text-transform: uppercase;\n  font-weight: 900;\n  position: relative;\n  color: #fff;\n"]);return ne=function(){return e},e}var te=function(e){var n=e.to,t=e.icon;return r.createElement(re,{to:n},t)},re=Object(u.default)(Q.a)(ne()),ae=function(e){var n=e.handleSubmit,t=e.children;return r.createElement("form",{onSubmit:function(e){e.preventDefault(),n&&n()}},t)},oe=(t(474),t(247)),ie=(t(157),t(148));function ce(){var e=Object(c.a)([""]);return ce=function(){return e},e}function ue(){var e=Object(c.a)([""]);return ue=function(){return e},e}function le(){var e=Object(c.a)(["\n  font-weight: bold;\n"]);return le=function(){return e},e}function de(){var e=Object(c.a)(["\n  display: flex;\n  padding: 0 24px;\n"]);return de=function(){return e},e}var se=u.default.div(de()),fe=Object(u.default)(ee)(le()),me=Object(u.default)(W.a)(ue()),pe=Object(u.default)(W.a.Item)(ce()),be=function(e){var n=e.data,t=Object(o.g)().pathname.split("/").splice(0,2).join("/");return r.createElement(se,null,r.createElement(me,{theme:"dark",mode:"horizontal",style:{lineHeight:"64px"},selectedKeys:[t]},n.map((function(e){var n=e.path,t=e.title;return r.createElement(pe,{key:n},r.createElement(fe,{to:n},t))}))))};function ge(){var e=Object(c.a)([""]);return ge=function(){return e},e}Object(u.default)(ee)(ge()),t(69);var he=t(33);function ve(){var e=Object(c.a)(["\n  margin-left: auto;\n"]);return ve=function(){return e},e}function ye(){var e=Object(c.a)(["\n  display: flex;\n  align-items: center;\n"]);return ye=function(){return e},e}var Oe=J.a.Header,je=Object(u.default)(Oe)(ye()),xe=Object(u.default)(he.a)(ve()),Ee=(t(383),t(249)),ke=(t(206),t(77)),we=(t(386),t(248)),Se=t(152);var Ie=Object(v.e)({name:"submitForm",sid:"ikpuz8"}),Ce=Object(v.e)({name:"resetForm",sid:"2tgyvf"}),Te=Object(Se.c)({name:"token",validator:function(e){return 0===e.length?"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435":null}}),De=Object(Se.a)({name:"keep",initialValue:!1}),Fe=Object(Se.b)({name:"loginForm",fields:[Te,De],submit:Ie,reset:Ce});function Ne(){var e=Object(c.a)(["\n  font-size: 14px;\n  padding-top: 14px;\n\n  div {\n    margin-bottom: 6px;\n  }\n\n  a {\n    text-decoration: underline;\n    color: var(--blue);\n  }\n"]);return Ne=function(){return e},e}function ze(){var e=Object(c.a)(["\n  max-width: 260px;\n\n  div {\n    margin-bottom: 6px;\n  }\n\n  a {\n    text-decoration: underline;\n    color: var(--blue);\n  }\n"]);return ze=function(){return e},e}function Pe(){var e=Object(c.a)(["\n  font-size: 14px;\n"]);return Pe=function(){return e},e}function $e(){var e=Object(c.a)(["\n  text-align: center;\n"]);return $e=function(){return e},e}function qe(){var e=Object(c.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  width: 100%;\n  margin-bottom: 16px;\n\n  a {\n    color: var(--blue);\n  }\n"]);return qe=function(){return e},e}function Be(){var e=Object(c.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  width: 100%;\n\n  button {\n    width: 100%;\n    height: 40px;\n  }\n"]);return Be=function(){return e},e}function Ae(){var e=Object(c.a)(["\n  margin: auto;\n  background-color: #fff;\n  padding: 24px 24px 24px 24px;\n  border-radius: 3px;\n  min-width: 320px;\n  max-width: 360px;\n\n  h4 {\n    text-align: center;\n    padding-bottom: 8px;\n  }\n"]);return Ae=function(){return e},e}Object(v.h)({"\u0254":[{source:Object(v.k)({"\u0254":[Fe.$values,Ie],config:{name:"source",sid:"-hvh3kx"}}),filter:Fe.$isValid,target:U}],config:{sid:"-mma8uo"}}),Object(v.g)({"\u0254":{from:U,to:Ce},config:{sid:"-m7fstx"}}),Object(v.g)({"\u0254":{from:U,to:Y},config:{sid:"-m4otv4"}});var Me={token:{store:Te,config:{placeholder:"\u0422\u043e\u043a\u0435\u043d",name:"token",size:"large"}}},Ve=function(){return r.createElement(_e,null,r.createElement("div",null,"1. \u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \u0432 \u0422\u0438\u043d\u044c\u043a\u043e\u0444\u0444"),r.createElement("div",null,"2. \u041d\u0430\u0439\u0434\u0438\u0442\u0435 \u0441\u0435\u043a\u0446\u0438\u044e \u0422\u043e\u043a\u0435\u043d \u0434\u043b\u044f OpenAPI \u0432 \u043d\u0438\u0436\u043d\u0435\u0439 \u0447\u0430\u0441\u0442\u0438 \u0441\u0430\u0439\u0442\u0430"),r.createElement("div",null,"3. \u0421\u043a\u043e\u043f\u0438\u0440\u0443\u0439\u0442\u0435 \u0442\u043e\u043a\u0435\u043d. \u0422\u043e\u043a\u0435\u043d \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u0438\u043d \u0440\u0430\u0437."),r.createElement("div",null,"4. \u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0442\u043e\u043a\u0435\u043d \u0432 \u0444\u043e\u0440\u043c\u0443 \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \xab\u0412\u043e\u0439\u0442\u0438\xbb"),r.createElement("div",null,"\u041f\u043e\u043b\u043d\u0430\u044f \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044e \u0442\u043e\u043a\u0435\u043d\u0430 \u043d\u0430\xa0",r.createElement("a",{href:"https://tinkoffcreditsystems.github.io/invest-openapi/auth/",target:"_blank",rel:"noopener noreferrer"},"\u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u043c \u0441\u0430\u0439\u0442\u0435 Github \u0422\u0438\u043d\u044c\u043a\u043e\u0444\u0444")))},Ue=u.default.div(Ae()),Re=u.default.div(Be()),Ye=u.default.div(qe()),He=Object(u.default)((function(e){var n=e.className,t=e.store,a=e.config,o=a.label,i=a.required,c=a.name,u=a.placeholder,l=a.prefix,d=a.suffix,s=a.size,f=a.type,m=t.$value,b=t.$error,g=t.changed,h=Object(p.a)(m);Object(p.a)(b);return r.createElement(oe.a.Item,{label:o,required:i,validateStatus:"",help:!1,className:"form-item-".concat(c)},r.createElement(ie.a,{className:n,value:h,prefix:l,suffix:d,type:f,name:c,placeholder:u,size:s,onChange:function(e){var n=e.target.value;g(n)}}))}))($e()),Ge=u.default.div(Pe()),_e=u.default.div(ze()),Je=u.default.div(Ne());function Ke(){var e=Object(c.a)([""]);return Ke=function(){return e},e}u.default.section(Ke()),t(473);var Le=t(245),We=(t(442),t(251)),Qe=(t(444),t(246)),Xe=(t(212),t(47)),Ze=(t(113),t(53)),en=(t(447),t(250)),nn=t(60),tn=$.createDomain({name:"operationsDomain",sid:"-qr4ynn"}),rn=Object(v.f)([],{name:"$operations",sid:"-kjm5uj"}),an=tn.createEffect({name:"getOperations",sid:"-k9nfl6"});an.use((function(e){var n=e.from,t=e.to,r=e.id;return k({url:"/operations?from=".concat(n,"&to=").concat(t).concat(r?"&brokerAccountId=".concat(r):"")})})),rn.on(an.done,(function(e,n){return n.result.payload.operations}));var on=$.createDomain({name:"marketDomain",sid:"l6fe6e"}),cn=Object(v.f)([],{name:"$stocks",sid:"kfozgq"}),un=Object(v.f)([],{name:"$currencies",sid:"vertvc"}),ln=Object(v.f)(-1,{name:"$usdPrice",sid:"-tmes63"}),dn=on.createEffect({name:"getStocks",sid:"-was63t"}),sn=on.createEffect({name:"getOrderbook",sid:"omb1t1"}),fn=on.createEffect({name:"getCurrency",sid:"-6xjied"});dn.use((function(){return k({url:"/market/stocks"})})),fn.use((function(){return k({url:"/market/currencies"})})),sn.use((function(e){var n=e.figi;return k({url:"/market/orderbook?figi=".concat(n,"&depth=1")})})),cn.on(dn.done,(function(e,n){return n.result.payload.instruments})),un.on(fn.done,(function(e,n){return n.result.payload.instruments})),Object(v.g)({"\u0254":{from:fn.done,to:sn.prepend((function(e){var n;return{figi:(null===(n=e.result.payload.instruments.find((function(e){return"\u0414\u043e\u043b\u043b\u0430\u0440 \u0421\u0428\u0410"===e.name})))||void 0===n?void 0:n.figi)||""}}))},config:{sid:"-gqatur"}}),ln.on(sn.done,(function(e,n){return n.result.payload.lastPrice}));t(475),t(476);function mn(e){return{sorter:function(n,t){return n[e]>t[e]?1:n[e]<t[e]?-1:0}}}var pn=t(42),bn=$.createDomain({name:"portfolioDomain",sid:"s3lbaf"}),gn=Object(v.f)(null,{name:"$portfolio",sid:"-b1ejuh"}),hn=bn.createEffect({name:"getPortfolio",sid:"-92b6bs"});hn.use((function(){return k({url:"/portfolio"})})),gn.on(hn.done,(function(e,n){return n.result.payload.positions}));var vn=function(e){return Number(Number(e).toFixed(2))},yn=function(e){return Math.sign(e)<0?"var(--red)":"var(--green)"},On=Object(v.e)({name:"handleFilters",sid:"-aebz52"}),jn=Object(v.e)({name:"includePortfolio",sid:"b1fyr2"}),xn=Object(v.f)({tradingProfit:0,totalCommisions:0,middleBuy:0,middleSell:0},{name:"$operationStats",sid:"48g63t"}),En=Object(v.f)([],{name:"$operationsSource",sid:"-6zwvra"}),kn=Object(v.f)({},{name:"$tableFilters",sid:"-pqozrc"}),wn=Object(v.f)({status:["Done"]},{name:"$currentFilter",sid:"jhg8ew"}),Sn=Object(v.f)(0,{name:"$potrfolioProfit",sid:"rrs3cs"}),In=Object(v.f)(!1,{name:"$isPortfolioIncluded",sid:"mnolkx"}),Cn=["BrokerCommission","PayIn","Currency"];En.on(an.done,(function(e,n){return n.result.payload.operations.filter((function(e){return!Cn.includes(e.operationType)&&!Cn.includes(e.instrumentType)}))})).on(dn.done,(function(e,n){var t=n.result.payload.instruments;return e.map((function(e){var n,r,a=t.find((function(n){return n.figi===e.figi}));return Object(j.a)(Object(j.a)(Object(j.a)({},e),a),{},{commissionValue:(null===(n=e.commission)||void 0===n?void 0:n.value)||0,commissionCurrency:(null===(r=e.commission)||void 0===r?void 0:r.currency)||0})}))}));var Tn=Object(v.b)({"\u0254":[En,wn,ln,function(e,n,t){var r=Object.keys(n)||[];return e.filter((function(e){return r.map((function(t){return!Boolean(n[t])||n[t].includes(e[t])})).every(Boolean)})).map((function(e){var n;return Object(j.a)(Object(j.a)({},e),("RUB"===e.currency||"TCS"===e.ticker&&"RUB"===e.commissionCurrency)&&{currency:"USD",price:vn(e.price/t),payment:vn(e.payment/t),commissionValue:vn(((null===e||void 0===e?void 0:e.commissionValue)||0)/t)||0,commission:{currency:"USD",value:vn((null===(n=e.commission)||void 0===n?void 0:n.value)/t)}})}))}],config:{name:"$operationsTable",sid:"-cd18b4"}});wn.on(On,(function(e,n){return n})),In.on(jn,(function(e,n){return n})),Object(v.g)({"\u0254":{from:Tn.map((function(e){var n=e.filter((function(e){return F.includes(e.operationType)})),t=e.filter((function(e){return N.includes(e.operationType)})),r=e.map((function(e){return e.payment})).reduce((function(e,n){return e+n}),0),a=e.map((function(e){return(null===e||void 0===e?void 0:e.commissionValue)||0})).reduce((function(e,n){return e+n}),0),o=n.map((function(e){return(null===e||void 0===e?void 0:e.price)||0})).reduce((function(e,n){return e+n}),0),i=t.map((function(e){return(null===e||void 0===e?void 0:e.price)||0})).reduce((function(e,n){return e+n}),0);return{tradingProfit:vn(r)||0,totalCommisions:Math.abs(vn(a))||0,middleBuy:Math.abs(vn(o/n.length))||0,middleSell:vn(i/t.length)||0}})),to:xn},config:{sid:"-didkwf"}}),Object(v.g)({"\u0254":{from:En.map((function(e){return{status:Object(pn.a)(new Set(e.map((function(e){return e.status})))).map((function(e){return{text:T[e],value:e}})),ticker:Object(pn.a)(new Set(e.map((function(e){return e.ticker})))).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{text:e,value:e}})).filter((function(e){return""!==e.value})),instrumentType:Object(pn.a)(new Set(e.map((function(e){return e.instrumentType})))).map((function(e){return{text:C[e],value:e}})),payment:Object(pn.a)(new Set(e.map((function(e){return e.currency})))).map((function(e){return{text:e,value:e}})),operationType:Object(pn.a)(new Set(e.map((function(e){return e.operationType})))).map((function(e){return{text:I[e],value:e}}))}})),to:kn},config:{sid:"-byucyy"}}),Object(v.g)({"\u0254":{from:Object(v.b)({"\u0254":[gn,Tn,In,function(e,n){var t=Object(pn.a)(new Set(n.map((function(e){return(null===e||void 0===e?void 0:e.ticker)||""})))),r=(null===e||void 0===e?void 0:e.filter((function(e){return t.includes(e.ticker)})).map((function(e){return e.averagePositionPrice.value*e.balance+e.expectedYield.value})).reduce((function(e,n){return e+n}),0))||0;return vn(r)}],config:{name:"from",sid:"-boo58i"}}),to:Sn},config:{sid:"-5teat"}});var Dn=an.pending||dn.pending||fn.pending||sn.pending;function Fn(){var e=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  padding: 0 16px;\n"]);return Fn=function(){return e},e}function Nn(){var e=Object(c.a)(["\n  padding: 0 16px;\n\n  .ant-tag {\n    cursor: pointer;\n    line-height: 30px;\n    margin-right: 9px;\n  }\n"]);return Nn=function(){return e},e}function zn(){var e=Object(c.a)(["\n  padding: 0 16px;\n"]);return zn=function(){return e},e}function Pn(){var e=Object(c.a)(["\n  width: 100%;\n  display: flex;\n  padding: 18px 0;\n"]);return Pn=function(){return e},e}function $n(){var e=Object(c.a)(["\n  width: 100%;\n  display: flex;\n  position: relative;\n  background-color: #f3f3f3;\n  border: 1px solid #e4e4e4;\n  border-bottom: 1px solid #f0f0f0;\n\n  .price-th,\n  .quantity-th,\n  .price-th,\n  .commisition-th,\n  .date-th,\n  .other-th {\n    padding: 12px 12px 11px 12px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .status-th {\n    width: 41px;\n  }\n\n  .date-th {\n    width: 180px;\n    flex-wrap: wrap;\n  }\n\n  .type-th {\n    width: 240px;\n  }\n\n  .price-th {\n    width: 120px;\n  }\n\n  .quantity-th {\n    width: 150px;\n  }\n\n  .commisition-th {\n    width: 120px;\n  }\n\n  .price-th,\n  .quantity-th,\n  .commisition-th {\n    display: flex;\n    flex-wrap: wrap;\n\n    span.label {\n      width: 100%;\n      text-align: center;\n      line-height: 1;\n      font-size: 1.2rem;\n      margin-bottom: 8px;\n    }\n  }\n"]);return $n=function(){return e},e}function qn(){var e=Object(c.a)(["\n  .ant-tag {\n    margin-right: 0;\n  }\n\n  .ticker-th-td,\n  .instrument-th-td,\n  .date-th-td {\n    text-align: center;\n  }\n\n  .payment-th-td,\n  .quantity-th-td,\n  .commisition-th-td {\n    border-left: 1px solid #f0f0f0;\n    text-align: center;\n  }\n\n  th.ticker-th-td,\n  th.payment-th-td,\n  th.quantity-th-td,\n  th.commisition-th-td {\n    text-align: left;\n  }\n\n  .commisition-th-td {\n    border-right: 1px solid #f0f0f0;\n  }\n\n  .status-th-td {\n    padding: 0;\n    text-align: center;\n\n    .ant-table-filter-column-title {\n      padding: 0;\n    }\n\n    .ant-table-filter-trigger-container {\n      left: 0;\n    }\n  }\n\n  .ant-table-title {\n    padding: 0;\n  }\n"]);return qn=function(){return e},e}Object(v.g)({"\u0254":{from:an.done,to:hn},config:{sid:"1af22i"}}),Object(v.g)({"\u0254":{from:an.done,to:dn},config:{sid:"1opphw"}});var Bn=P("weekAgo"),An=function(e,n){var t=g()(n[0]).startOf("day").toISOString(),r=g()(n[1]).endOf("day").toISOString();an({from:t,to:r})},Mn=u.default.section(qn()),Vn=u.default.div($n()),Un=u.default.div(Pn()),Rn=u.default.div(zn()),Yn=u.default.div(Nn()),Hn=u.default.div(Fn()),Gn={login:{path:"/",component:function(){return r.createElement(Ue,null,r.createElement(we.a.Title,{level:4},"A\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430 \u0438\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u0439"),r.createElement(ae,{handleSubmit:Ie},r.createElement(He,Me.token),r.createElement(Re,null,r.createElement(Ye,null,r.createElement(ke.a,{defaultChecked:!1,onChange:function(e){return De.changed(e.target.checked)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d"),r.createElement(Ee.a,{content:Ve,title:"\u041a\u0430\u043a \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d"},r.createElement(Ge,null,r.createElement("a",{href:"https://www.tinkoff.ru/invest/settings",target:"_blank",rel:"noopener noreferrer"},"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d")))),r.createElement(he.a,{type:"primary",htmlType:"submit"},"\u0412\u043e\u0439\u0442\u0438"),r.createElement(Je,null,r.createElement("div",null,"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0442\u043e\u043a\u0435\u043d ",r.createElement("b",null,"\u0442\u043e\u043b\u044c\u043a\u043e")," \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f\u043c \u0438 \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e."),r.createElement("div",null,"\u041e\u0442\u043e\u0437\u0432\u0430\u0442\u044c \u0442\u043e\u043a\u0435\u043d \u043c\u043e\u0436\u043d\u043e \u0432\xa0",r.createElement("a",{href:"https://id.tinkoff.ru/account",target:"_blank",rel:"noopener noreferrer"},"\u041b\u041a \u0422\u0438\u043d\u044c\u043a\u043e\u0444\u0444"))))))},guards:[function(e,n){return n&&n.role?null:e}]},operations:{title:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",path:"/operations",component:function(){var e=r.useState("weekAgo"),n=Object(nn.a)(e,2),t=n[0],a=n[1],o=Object(p.a)(Tn),i=Object(p.a)(Dn),c=Object(p.a)(kn),u=Object(p.a)(Sn),l=Object(p.a)(In),d=Object(p.a)(wn),s=Object(p.a)(xn),f=s.tradingProfit,m=s.totalCommisions,b=s.middleBuy,h=s.middleSell,v=l?vn(f+u):f;r.useEffect((function(){fn(),an(Bn)}),[]);var y,O,x=[{title:"",dataIndex:"status",key:"status",filters:c.status,filteredValue:d.status,className:"status-th-td",render:function(e,n){return r.createElement(Ze.a,{title:n.id,arrowPointAtCenter:!0},r.createElement(en.a,{status:"Done"===n.status?"success":"error"}))},width:41},Object(j.a)(Object(j.a)({title:"\u0414\u0430\u0442\u0430",dataIndex:"date",key:"date",className:"date-th-td"},mn("date")),{},{render:function(e){return r.createElement(Xe.a,{style:{marginRight:0}},g()(e).format("DD.MM.YYYY")," \u2192"," ",g()(e).format("HH:mm:ss"))},width:180}),{title:r.createElement(r.Fragment,null,"\u0422\u0438\u043f"),dataIndex:"instrumentType",key:"instrumentType",className:"instrument-th-td",filters:c.instrumentType,filteredValue:d.instrumentType,render:function(e,n){return C[n.instrumentType]},width:120},Object(j.a)(Object(j.a)({title:r.createElement(r.Fragment,null,"\u0422\u0438\u043a\u0435\u0440"),dataIndex:"ticker",key:"ticker",className:"ticker-th-td",filters:c.ticker,filteredValue:d.ticker},(y=["ticker"],{onFilter:function(e,n){var t=function(e){return String(e).toLowerCase()},r=y.map((function(e){return t(n[e])}));return"search"===O?r.join(" ").includes(t(e)):r.join(" ")===t(e)}})),{},{render:function(e){return r.createElement(Xe.a,null,e)},width:120}),Object(j.a)(Object(j.a)({title:r.createElement(r.Fragment,null,"\u0421\u0443\u043c\u043c\u0430"),dataIndex:"payment",key:"payment",className:"payment-th-td"},mn("payment")),{},{render:function(e,n){return r.createElement(Xe.a,{color:yn(n.payment)},n.payment," ",D[n.currency])},width:120}),{title:r.createElement(r.Fragment,null,"\u041b\u043e\u0442\u044b"),dataIndex:"quantity",key:"quantity",className:"quantity-th-td",render:function(e,n){return r.createElement(r.Fragment,null,r.createElement(Xe.a,{color:"blue"},n.quantity," \u2715 ",vn(n.price),"\xa0",D[n.currency]))},width:150},{title:r.createElement(r.Fragment,null,"\u041a\u043e\u043c."),dataIndex:"commissionValue",key:"commissionValue",className:"commisition-th-td",render:function(e,n){return r.createElement(Xe.a,{color:"var(--red)"},Math.abs(vn(e))," ",D[n.currency])},width:120},{title:r.createElement(r.Fragment,null,"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f"),dataIndex:"operationType",key:"operationType",filters:c.operationType,filteredValue:d.operationType,render:function(e,n){return I[n.operationType]},width:200},{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",dataIndex:"name",key:"name"}];return r.createElement(Mn,null,r.createElement(Le.a,{title:function(){var e=P(t);return r.createElement(r.Fragment,null,r.createElement(Un,null,r.createElement(Rn,null,r.createElement(Qe.a.RangePicker,{placeholder:["\u041d\u0430\u0447\u0430\u043b\u043e","\u041a\u043e\u043d\u0435\u0446"],onChange:An,style:{minWidth:"375px"}})),r.createElement(Yn,null,z.map((function(e,n){var o=e.range,i=e.label;return r.createElement(Xe.a,{key:n,color:t===o?"#108ee9":"",onClick:function(){a(o),an(P(o))}},i)}))),r.createElement(Hn,null,r.createElement(We.a,{defaultChecked:l,onChange:function(e){jn(e)}}),"\xa0\xa0\u0423\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u044c")),r.createElement(Vn,null,r.createElement("div",{className:"status-th"}),r.createElement("div",{className:"date-th"},r.createElement(Xe.a,null,"\u0441 ",g()(e.from).format("D MMMM")," \u043f\u043e"," ",g()(e.to).format("D MMMM"))),r.createElement("div",{className:"type-th "}),r.createElement("div",{className:"price-th"},r.createElement("span",{className:"label"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u0438"),r.createElement(Xe.a,{color:yn(v)},v,"\xa0",D.USD)),r.createElement("div",{className:"quantity-th"},r.createElement("span",{className:"label"},"\u0421\u0440\u0435\u0434\u043d\u044f\u044f",r.createElement("br",null),"\u043f\u043e\u043a\u0443\u043f\u043a\u0430/\u043f\u0440\u043e\u0434\u0430\u0436\u0430"),r.createElement(Xe.a,{color:"var(--red)"},b),"\xa0~\xa0",r.createElement(Xe.a,{color:"var(--green)"},h)),r.createElement("div",{className:"commisition-th"},r.createElement("span",{className:"label"},"\u041e\u0431\u0449\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),r.createElement(Xe.a,{color:"var(--red)"},m,"\xa0",D.USD)),r.createElement("div",{className:"other-th"})))},columns:x,loading:i,dataSource:i?[]:o,rowKey:"id",onChange:function(e,n){On(n)},showSorterTooltip:!1,pagination:{pageSize:30}}))},guards:[function(e,n){return n&&n.role?e:null}]},notFoundForAnon:{component:function(){return r.createElement(o.a,{to:"/"})},guards:[function(e,n){return n&&n.role?null:e}],path:"*"},notFoundForUsers:{component:function(){return r.createElement(o.a,{to:"/operations"})},guards:[function(e,n){return n&&n.role?e:null}],path:"*"}},_n=[{path:Gn.operations.path,title:Gn.operations.title}],Jn=function(){return r.createElement(je,null,r.createElement(te,{to:"/",icon:r.createElement(L.a,null)}),r.createElement(be,{data:_n}),r.createElement(xe,{type:"primary",onClick:function(){return R()}},"\u0412\u044b\u0439\u0442\u0438"))};function Kn(){var e=Object(c.a)(["\n  background-color: #fff;\n  border-top: 1px solid var(--border-color);\n"]);return Kn=function(){return e},e}var Ln=J.a.Footer,Wn=Object(u.default)(Ln)(Kn()),Qn=(new Date).getFullYear(),Xn=function(){return r.createElement(Wn,null,"TIA \xa9 ",Qn)};function Zn(){var e=Object(c.a)(["\n  background-color: var(--body-bg);\n  padding: 24px;\n  min-height: calc(100vh - 128px);\n"]);return Zn=function(){return e},e}var et=J.a.Content,nt=Object(u.default)(et)(Zn()),tt=function(e){var n=e.children;return r.createElement(nt,null,n)},rt=function(e){var n=e.children,t=e.isAuthed,a=e.isPending;return a&&!t?r.createElement(K.a,{size:"large",spinning:a,style:S}):r.createElement(K.a,{size:"large",spinning:a},t?r.createElement(J.a,null,r.createElement(Jn,null),r.createElement(J.a,null,r.createElement(tt,null,n)),r.createElement(Xn,null)):r.createElement(J.a,null,n))},at=t(243),ot=function(){var e=Object(p.a)(V),n=Object(at.a)(Gn,e);return r.createElement(o.d,null,n.map((function(e){return r.createElement(o.b,Object.assign({key:e.name},e))})))};g.a.locale("ru");var it=function(){var e=Object(p.a)(H),n=Object(p.a)(V);return r.useEffect((function(){G&&U({token:G,keep:"keep"===_}),Y()}),[]),r.createElement(rt,{isAuthed:Boolean(n.role),isPending:e},r.createElement(ot,null))},ct=Object(i.a)();a.render(r.createElement(r.Fragment,null,r.createElement(s,null),r.createElement(m,null),r.createElement(o.c,{history:ct},r.createElement(it,null))),document.getElementById("root"))}},[[254,1,2]]]);
//# sourceMappingURL=main.bfb34bb1.chunk.js.map